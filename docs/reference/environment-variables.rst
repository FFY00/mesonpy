.. SPDX-FileCopyrightText: 2023 The meson-python developers
..
.. SPDX-License-Identifier: MIT

.. _reference-environment-variables:

*********************
Environment variables
*********************


.. todo::

   - Document ``ARCHFLAGS`` (see `#226`_)


.. envvar:: NO_COLOR

   Setting this environment variable to any value disables the use of ANSI
   terminal escape sequences to colorize ``meson-python``'s console
   output. Setting both ``NO_COLOR`` and ``FORCE_COLOR`` environment variables
   is an error.

.. envvar:: FORCE_COLOR

   Setting this environment variable to any value forces the use of ANSI
   escape sequences to colorize the ``meson-python``'s console output. Setting
   both ``NO_COLOR`` and ``FORCE_COLOR`` environment variables is an error.

.. envvar:: MESONPY_EDITABLE_VERBOSE

   Setting this environment variable to any value enables directing to the
   console the messages emitted during project rebuild triggered by imports of
   editable wheels generated by ``meson-python``. Refer to the
   :ref:`how-to-guides-editable-installs` guide for more information.

.. envvar:: MACOSX_DEPLOYMENT_TARGET

   This environment variables is used of specifying the target macOS platform
   major version to the Xcode development tools.  If this environment variable
   is set, ``meson-python`` will use the specified macOS version for the
   Python wheel platform tag instead than the macOS version of the build
   machine.

   This variable must be set to macOS major versions only: ``10.9`` to
   ``10.15``, ``11``, ``12``, ``13``, ...

   Please note that the macOS versioning changed from macOS 11 onward. For
   macOS 10, the versioning scheme is ``10.$major.$minor``. From macOS 11
   onward, it is ``$major.$minor.$bugfix``. Wheel tags and deployment targets
   are currently designed to specify compatibility only with major version
   number granularity.

   Another way of specifying the target macOS platform is to use the
   ``-mmacosx-version-min`` compile and link flags.  However, it is not
   possible for ``meson-python`` to detect this, and it will not set the
   Python wheel platform tag accordingly.

.. envvar:: NINJA

   Specify the ninja_ executable to use. It can also be used to select
   ninja_ alternatives like samurai_.


.. _#226: https://github.com/mesonbuild/meson-python/pull/226
.. _ninja: https://ninja-build.org
.. _samurai: https://github.com/michaelforney/samurai
